{% extends 'base.html.twig' %}
{% block javascripts %}
    {{parent()}}

    <script src="{{ asset('js/jquery-1.11.0.min.js') }}" type="text/javascript"></script>
    <script src="{{ asset('js/ajaxgrid.js') }}" type="text/javascript"></script>
{% endblock %}
{% block body %}

<!--start-breadcrumbs-->
<div class="breadcrumbs">
    <div class="container">
        <div class="breadcrumbs-main">
            <ol class="breadcrumb">
                <li><a href="">Home</a></li>
                <li class="active">List of products</li>
            </ol>
        </div>
    </div>
</div>
<!--end-breadcrumbs-->
<!--prdt-starts-->
<div class="product">
    <div class="container">
        <div class="account-top heading">
            <h2>Product list</h2>
        </div>
        <div id="entities-grid">

        </div>
        <div class="account-main">
<<<<<<< HEAD

=======
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Name</th>
                        <th>Description</th>
                        <th>Datecreate</th>
                        <th>Dateupdate</th>
                        <th>Isactiv</th>
                        <th>Image</th>
                        <th>Sku</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                {% for product in products %}
                    <tr>
                        <td><a href="{{ path('product_show', { 'id': product.id }) }}">{{ product.id }}</a></td>
                        <td>{{ product.name }}</td>
                        <td>{{ product.description }}</td>
                        <td>{{ product.dateCreate.date|date("d M Y") }}</td>
                        <td>{% if product.dateUpdate %}{{ product.dateUpdate.date|date("d M Y") }}{% endif %}</td>
                        <td>{% if product.isActive %}Yes{% else %}No{% endif %}</td>
                        <td>{{ product.image }}</td>
                        <td>{{ product.sku }}</td>
                        <td>
                            <ul>
                                <li>
                                    <a href="{{ path('product_show', { 'id': product.id }) }}">show</a>
                                </li>
                                <li>
                                    <a href="{{ path('product_edit', { 'id': product.id }) }}">edit</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
>>>>>>> refs/remotes/almazovmax/master
            <a class="btn btn-info" href="{{ path('product_new') }}">Create a new product</a>
            {{ tree }}
        </div>
    </div>
</div>

    {#<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>#}
    {#<script type="text/javascript" src="web/js/ajaxgrid.js"></script>#}
    <script type="text/javascript">
        var settings= {
            'dataURL':'http://127.0.0.1:8000/product/',
            'sortbyfield': 'id',
            'order': 'asc',
            'filterbyfield': 'null',
            'pattern': 'null',
            'page': '1'
        }

        document.addEventListener("DOMContentLoaded", function() {
            $("#entities-grid").ajaxGrid();
        });
       // $("#filtertitle").keyup(filter());
        function sort(){
            //...
        }
        function next() {
            //...
        }
        function previous() {
            //...
        }
//        function filter() {
//            var temp=this.text();
//            settings.filterbyfield=this.id();
//            settings.pattern=temp;
//            settings.dataUrl=generateURL();
//            $("#entities-grid").remove(".dataRows");
//            $("#dataColumns").ajaxGrid(settings.dataUrl);
//        }
        function generateURL(){
           return "http://127.0.0.1:8000/product/"+"?"+"sortbyfield="+settings.sortbyfield+"&order="+settings.order+
                   "&filterbyfield="+settings.filterbyfield+"&pattern="+settings.pattern+"&page="+settings.page;
        }
    </script>
{% endblock %}
